В базе данных Redis подберите коллекцию для подсчета посещений с определенных IP-адресов.

redis 127.0.0.1:6379> SADD 10.110.0.1 "2017-07-02 15:00"
(integer) 1
redis 127.0.0.1:6379> SADD 10.110.0.1 "2017-07-02 15:30"
(integer) 1
redis 127.0.0.1:6379> SADD 10.110.0.1 "2017-07-02 16:30"
(integer) 1
redis 127.0.0.1:6379> SADD 10.110.0.2 "2017-07-02 16:30"
(integer) 1
redis 127.0.0.1:6379> SADD 10.110.0.3 "2017-07-02 17:30"
(integer) 1
redis 127.0.0.1:6379> SADD 10.110.0.3 "2017-07-02 18:30"
(integer) 1
redis 127.0.0.1:6379> KEYS *
1) "10.110.0.1"
2) "10.110.0.2"
3) "10.110.0.3"
redis 127.0.0.1:6379> SCARD 10.110.0.1
(integer) 3
redis 127.0.0.1:6379> SCARD 10.110.0.2
(integer) 1
redis 127.0.0.1:6379> SCARD 10.110.0.3
(integer) 2